{"openapi":"3.0.1","info":{"title":"OpsNow API Document","description":"Â© Copyright by OpsNow Inc.","version":"v1.0.0"},"servers":[{"url":"https://apidev.opsnow.com/asset"},{"url":"http://local.opsnow.com:9000"}],"security":[{"Authorization":[]}],"paths":{"/v3/optimization/summary/filter":{"put":{"tags":["Optimization Summary V3 APIs"],"summary":"View top filter area by vendor","description":"Search the top filter area data for each vendor.","operationId":"filterInfoByVendor","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickSearchFilterRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommonResultModelQuickSearchFilterModel"}}}}}}},"/v3/optimization/summary/last-execute":{"post":{"tags":["Optimization Summary V3 APIs"],"summary":"Last optimization date lookup","description":"Queries the last time resource optimization was performed.","operationId":"lastExecuteDate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizeSummaryRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommonResultModelLastExecuteDateResultModel"}}}}}}},"/v3/optimization/summary/card":{"post":{"tags":["Optimization Summary V3 APIs"],"summary":"View top card area by optimization category","description":"Search the top card area data for each optimization category.","operationId":"summaryInfoByVendorAndOptimizeCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizeSummaryRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommonElementResultModelOptimizeSummaryInfoModel"}}}}}}},"/v3/optimization/setting/save":{"post":{"tags":["Optimization Setting V3 APIs"],"summary":"Modify resource optimization settings conditions","description":"Save the optimization setting conditions for each resource by optimization category.In case of initial registration, the rule set id must not exist.","operationId":"saveOptimizeSetting","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingSaveRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/setting/deny/save":{"post":{"tags":["Optimization Setting V3 APIs"],"summary":"Modify resource optimization exclusion tags","description":"Add, edit, or delete resource optimization exclusion tags.","operationId":"saveOptimizeDenyTagSettingInfo","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DenySaveRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/general/analysis":{"post":{"tags":["Optimization Summary V3 APIs"],"summary":"Perform resource-optimized batch tasks","description":"Perform resource-optimized batch tasks manually.","operationId":"executeOptimizationAnalysis","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/detail/list":{"post":{"tags":["Optimization Detail V3 APIs"],"summary":"Optimization Grid View","description":"Grid data inquiry according to optimization category and resource type","operationId":"getGridListOptimizeResourceByVendorAndOptimizeCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizeSummaryRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/detail/chart":{"post":{"tags":["Optimization Detail V3 APIs"],"summary":"Optimization Chart View","description":"View optimization charts by optimization category and resource type","operationId":"getChartInfoByVendorAndOptimizeCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizeSummaryRequestModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/setting/optimize-category/{optimizeCategory}":{"get":{"tags":["Optimization Setting V3 APIs"],"summary":"View list of support resources by optimization type","description":"View list of support resources by optimization type","operationId":"getSupportOptimizeResources","parameters":[{"name":"optimizeCategory","in":"path","description":"Optimization category","required":true,"schema":{"type":"string","enum":["right-sizing","unused",""]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RsrcOptiRsrcTypesResultModel"}}}}}}},"/v3/optimization/setting/companies/{cmpnId}/vendors/{vendor}/optimize-category/{optimizeCategory}/rule-sets/{ruleSetId}":{"get":{"tags":["Optimization Setting V3 APIs"],"summary":"View list of resource optimization settings conditions","description":"View the list of conditions that can be set according to resources by optimization category. If there are no conditions set, the default conditions are searched.","operationId":"getOptimizeSetting","parameters":[{"name":"cmpnId","in":"path","required":true,"schema":{"type":"string"}},{"name":"vendor","in":"path","required":true,"schema":{"type":"string","enum":["aws","azu","gcp","ali","ncp","oci","openstack",""]}},{"name":"optimizeCategory","in":"path","description":"Optimization category","required":true,"schema":{"type":"string","enum":["right-sizing","unused",""]}},{"name":"ruleSetId","in":"path","description":"Rule id","required":true,"schema":{"type":"string"}},{"name":"resourceType","in":"query","description":"Resource type","required":true,"schema":{"type":"string"},"example":"ec2"}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/setting/companies/{cmpnId}/vendors/{vendor}/optimize-category/{optimizeCategory}":{"get":{"tags":["Optimization Setting V3 APIs"],"summary":"View list of resource optimization settings conditions","description":"View the list of conditions that can be set according to resources by optimization category. If there are no conditions set, the default conditions are searched.","operationId":"getOptimizeSetting_1","parameters":[{"name":"cmpnId","in":"path","required":true,"schema":{"type":"string"}},{"name":"vendor","in":"path","required":true,"schema":{"type":"string","enum":["aws","azu","gcp","ali","ncp","oci","openstack",""]}},{"name":"optimizeCategory","in":"path","description":"Optimization category","required":true,"schema":{"type":"string","enum":["right-sizing","unused",""]}},{"name":"resourceType","in":"query","description":"Resource type","required":true,"schema":{"type":"string"},"example":"ec2"}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/setting/companies/{cmpnId}/rule-sets/{ruleSetId}/deny":{"get":{"tags":["Optimization Setting V3 APIs"],"summary":"View list of resource optimization excluded tags","description":"View the list of tags excluded from resource optimization.","operationId":"getOptimizeDenySettingInfo","parameters":[{"name":"cmpnId","in":"path","description":"Company unique ID","required":true,"schema":{"type":"string"}},{"name":"ruleSetId","in":"path","description":"Rule id","required":true,"schema":{"type":"string"},"example":"Default"}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultModel"}}}}}}},"/v3/optimization/setting/companies/{cmpnId}/rule-set-id":{"get":{"tags":["Optimization Setting V3 APIs"],"summary":"Search for optimization rule set ID of the site and company","description":"Search for optimization rule set ID using site and company information.","operationId":"findOptimizeRuleSetId","parameters":[{"name":"cmpnId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommonResultModelRuleSetIdResultModel"}}}}}}}},"components":{"schemas":{"KeyValueModel":{"type":"object","properties":{"vndr":{"type":"string"},"key":{"type":"string"},"value":{"type":"string"},"selectYn":{"type":"string"}}},"QuickSearchFilterRequestModel":{"type":"object","properties":{"siteCd":{"title":"Site code","type":"string","example":"BESPIN"},"cmpnId":{"title":"Company id","type":"string","example":"1"},"userId":{"title":"The unique uuid of the actual user used to store data or look up permissions.","type":"string"},"actionType":{"type":"string"},"keyList":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueModel"}}}},"CommonResultModelQuickSearchFilterModel":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/QuickSearchFilterModel"},"status":{"type":"string"},"error":{"$ref":"#/components/schemas/ErrorModel"}}},"ErrorModel":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}},"KeyValueTagModel":{"type":"object","properties":{"vndr":{"type":"string"},"key":{"type":"string"},"value":{"type":"string"},"valueList":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueModel"}}}},"QuickSearchFilterModel":{"type":"object","properties":{"vendors":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueModel"}},"accounts":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueModel"}},"regions":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueModel"}},"products":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueModel"}},"svcGrps":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueModel"}},"tags":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueTagModel"}}}},"OptimizeSummaryRequestModel":{"type":"object","properties":{"siteCd":{"title":"Site code","type":"string","example":"BESPIN"},"cmpnId":{"title":"Company id","type":"string","example":"1"},"userId":{"title":"The unique uuid of the actual user used to store data or look up permissions.","type":"string"},"menuId":{"title":"Unique ID of the currently accessed menu","type":"string"},"optimizeCategory":{"title":"Optimization category","type":"string","enum":["right-sizing","unused",""]},"resourceType":{"title":"Resource type","type":"string","example":"ec2"},"vendor":{"title":"Cloud vendor","type":"string","enum":["aws","azu","gcp","ali","ncp","oci","openstack",""]},"accountList":{"title":"List of accounts to filter optimization results for","type":"array","items":{"title":"List of accounts to filter optimization results for","type":"string"}},"regionList":{"title":"List of regions to filter optimization results for","type":"array","items":{"title":"List of regions to filter optimization results for","type":"string"}}}},"CommonResultModelLastExecuteDateResultModel":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LastExecuteDateResultModel"},"status":{"type":"string"},"error":{"$ref":"#/components/schemas/ErrorModel"}}},"LastExecuteDateResultModel":{"type":"object","properties":{"lastExecuteDate":{"type":"string","format":"date-time"}}},"CommonElementResultModelOptimizeSummaryInfoModel":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OptimizeSummaryInfoModel"}},"status":{"type":"string"},"error":{"$ref":"#/components/schemas/ErrorModel"}}},"OptimizeSummaryInfoModel":{"type":"object","properties":{"resourceType":{"type":"string"},"expectedSavingCost":{"type":"number","format":"double"},"expectedSavingCount":{"type":"integer","format":"int32"}}},"OptimizeSettingSaveItemModel":{"type":"object","properties":{"resourceType":{"title":"Resource type","type":"string","example":"ec2"},"majorCategory":{"title":"Optimization main category","type":"string","example":"idle"},"minorCategory":{"title":"Optimization Minor Category","type":"string","example":"cpu_util_max"},"useYn":{"title":"Whether to use the setting value","type":"string","example":"Y"},"value":{"title":"Value for each optimization category","type":"string","example":"3"}}},"SettingSaveRequestModel":{"type":"object","properties":{"siteCd":{"title":"Site code","type":"string","example":"BESPIN"},"cmpnId":{"title":"Company id","type":"string","example":"1"},"userId":{"title":"The unique uuid of the actual user used to store data or look up permissions.","type":"string"},"menuId":{"title":"Unique ID of the currently accessed menu","type":"string"},"vendor":{"type":"string","enum":["aws","azu","gcp","ali","ncp","oci","openstack",""]},"resourceType":{"type":"string"},"settingItems":{"type":"array","items":{"$ref":"#/components/schemas/OptimizeSettingSaveItemModel"}},"optimizeCategory":{"type":"string","enum":["right-sizing","unused",""]},"isManualSetting":{"type":"boolean"}}},"ResultModel":{"type":"object","properties":{"status":{"type":"string"},"error":{"$ref":"#/components/schemas/ErrorModel"}}},"DenySaveRequestModel":{"type":"object","properties":{"siteCd":{"title":"Site code","type":"string","example":"BESPIN"},"cmpnId":{"title":"Company id","type":"string","example":"1"},"userId":{"title":"The unique uuid of the actual user used to store data or look up permissions.","type":"string"},"menuId":{"title":"Unique ID of the currently accessed menu","type":"string"},"ruleSetId":{"type":"string"},"tagExceptData":{"type":"array","items":{"$ref":"#/components/schemas/TagInfoModel"}}}},"TagInfoModel":{"type":"object","properties":{"tagKey":{"type":"string"},"tagValue":{"type":"string"}}},"BaseRequestModel":{"type":"object","properties":{"siteCd":{"title":"Site code","type":"string","example":"BESPIN"},"cmpnId":{"title":"Company id","type":"string","example":"1"},"userId":{"title":"The unique uuid of the actual user used to store data or look up permissions.","type":"string"},"menuId":{"title":"Unique ID of the currently accessed menu","type":"string"}}},"OptimizeSettingResourceTypeModel":{"type":"object","properties":{"vendor":{"type":"string"},"resourceType":{"type":"string"},"resourceName":{"type":"string"}}},"RsrcOptiRsrcTypesResultModel":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/OptimizeSettingResourceTypeModel"}},"status":{"type":"string"},"error":{"$ref":"#/components/schemas/ErrorModel"}}},"CommonResultModelRuleSetIdResultModel":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/RuleSetIdResultModel"},"status":{"type":"string"},"error":{"$ref":"#/components/schemas/ErrorModel"}}},"RuleSetIdResultModel":{"type":"object","properties":{"ruleSetId":{"type":"string"}}}},"securitySchemes":{"Authorization":{"type":"oauth2","name":"Authorization","flows":{"authorizationCode":{"authorizationUrl":"https://authstage.opsnow.com/auth/realms/BESPIN/protocol/openid-connect/auth","tokenUrl":"https://authstage.opsnow.com/auth/realms/BESPIN/protocol/openid-connect/token"}}}}}}